/*** Twoway.js v1.1.0* (c) 2021 Twoway* Created by A.J* Released under the MIT License.*/!function($){function Twoway(){this.init=!1,this.sets={},this.funclock=!1,this.startbound="{{",this.endbound="}}",this.ifok=[],this.removenode=[],this.ifstatus=[],this.forlist=[],this.key="key",this.infor=!1,this.tempforlist=[],this.tmplist=[],this.forarr=[],this.forparent=[]}function init(e,t,a,o){if(0==$.Twoway.init){for(var n=0;n<a;n++){var r=t[n].cloneNode(!0);parsingif(r,o),parsing(r,o,!0),parsing(r,o,!1),e[n].appendChild(r),0}$.Twoway.init=!0}}function toFragment(e){for(var t,a=document.createDocumentFragment();t=e.firstChild;)a.appendChild(t);return a}function parsing(e,t,a){(3==e.nodeType?dotext:doelement)(e,t,a),e.hasChildNodes()&&allchild(e,t,a)}function regreplacesub(e,t,a,o){for(var n,r=new RegExp($.Twoway.startbound.replace(/\{/g,"\\{")+"("+t+".[A-Za-z][A-Za-z0-9_]*)"+$.Twoway.endbound.replace(/\}/g,"\\}"),"i"),i=new RegExp($.Twoway.startbound.replace(/\{/g,"\\{")+"("+$.Twoway.key+")"+$.Twoway.endbound.replace(/\}/g,"\\}"),"i"),s=e;i.test(e);)s=s.replace(i,o+1),e=e.replace(i,"");for(;r.test(e);)n=a[RegExp.$1.substring(t.length+1)],s=s.replace(r,n),e=e.replace(r,"");return s}function dotextsub(e,t,a,o){e.nodeValue=regreplacesub(e.nodeValue,t,a,o)}function doelementsub(e,t,a,o){for(var n,r=e.attributes,i=r.length,s=0;s<i;s++)"value"!=r[s].nodeName&&"href"!=r[s].nodeName||(n=(n=r[s].nodeValue).trim(),r[s].nodeValue=regreplacesub(n,t,a,o))}function allchildsub(e,t,a,o){for(var n=e.childNodes.length,r=0;r<n;r++)(3==e.childNodes[r].nodeType?dotextsub:doelementsub)(e.childNodes[r],t,a,o),e.childNodes[r].hasChildNodes()&&allchildsub(e.childNodes[r],t,a,o)}function parsingsub(e,t,a,o){(3==e.nodeType?dotextsub:doelementsub)(e,t,a,o),e.hasChildNodes()&&allchildsub(e,t,a,o)}function parsingif(e,t){(e.hasChildNodes()?allchildif:3==e.nodeType?dotextif:doelementif)(e,t);for(var a,o,n,r,i,s,d=[];0<$.Twoway.tempforlist.length;){for(var l=(a=$.Twoway.tempforlist.shift()).node.length,u=0;u<l;u++)d[u]=a.node[u];n=(o=getval(a.fordata,t)).length;for(var f=0;f<n;f++){for(var w=[],u=0;u<l;u++)parsingsub(r=d[u].cloneNode(!0),a.foritem,o[f],f),w[u]=r,r=null;for(u=0;u<l;u++)a.node[0].parentNode.insertBefore(w[u],a.node[0])}for(u=0;u<l;u++)removenode(d[u])}for(;0<$.Twoway.forlist.length;){s=(i=$.Twoway.forlist.shift()).node.cloneNode(!0),n=(o=getval(i.fordata,t)).length;for(var c=0;c<n;c++)parsingsub(r=s.cloneNode(!0),i.foritem,o[c],c),i.node.parentNode.insertBefore(r,i.node),r=null;removenode(i.node),s=null}e=$.Twoway.removenode.length;if(0<e)for(var h=e-1;0<=h;h--)removenode($.Twoway.removenode[h])}function removenode(e){isIE()||isIE11()?e.removeNode(!0):e.remove()}function isIE(){return window.ActiveXobject||"ActiveXObject"in window}function isIE11(){return/Trident\/7\./.test(navigator.userAgent)}function doelement(e,a,t){var o,n,r,i,s,d,l,u,f;if(0==t)if("input"==e.nodeName.toLowerCase()){o=!1,i=(r=e.attributes).length,s=[];for(var w=u=l=null,c="checkbox"==e.type,t="radio"==e.type,h=!1,p=!1,g=null,v=0;v<i;v++)void 0!==r[v]&&"t-value"==r[v].nodeName?(n=(n=r[v].nodeValue).trim(),"range"==e.type?(e.addEventListener("change",function(t){return function(e){setval(t,e.target.value,a)}}(n)),h=!0):"checkbox"==e.type?(e.addEventListener("input",function(t){return function(e){setval(t,e.target.value,a)}}(n)),h=!0):"radio"==e.type?(p=!(h=!1),g=n):(listener(e,a,n),h=!0),l=getval(n,a),s.push("t-value"),o=!0):void 0!==r[v]&&"t-checked"==r[v].nodeName?(n=(n=r[v].nodeValue).trim(),e.addEventListener("input",function(t){return function(e){setval(t,e.target.checked,a)}}(n)),h=!0,u=getval(n,a),s.push("t-checked")):void 0!==r[v]&&"t-name"==r[v].nodeName&&(w=(n=r[v].nodeValue).trim(),s.push("t-name"));if(0<s.length){d=s.length;for(var y=0;y<d;y++)e.removeAttribute(s[y])}o?"radio"==e.type&&(l=getval(g,a)):(l=regreplace(e.value,a),"radio"==e.type&&(p=!0)),p&&!h&&e.addEventListener("input",(f=w,function(e){setval(f,e.target.value,a)})),null!=l&&(e.value=l),null!=u&&"checkbox"==e.type&&(e.checked=u),c&&null!=w&&addordeltoarr(w,l,u,a),t&&null!=w&&l==getval(w,a)&&(e.checked=!0)}else if("select"==e.nodeName.toLowerCase()){i=(r=e.attributes).length,s=[],l=null;for(var m=0;m<i;m++)void 0!==r[m]&&"t-value"==r[m].nodeName&&(n=(n=r[m].nodeValue).trim(),e.addEventListener("change",function(t){return function(e){setval(t,e.target.value,a)}}(n)),l=getval(n,a),s.push("t-value"));if(0<s.length){d=s.length;for(y=0;y<d;y++)e.removeAttribute(s[y])}null!=l&&(e.value=l)}else if("a"==e.nodeName.toLowerCase()){i=(r=e.attributes).length,s=[],l=null;for(m=0;m<i;m++)void 0!==r[m]&&"t-href"==r[m].nodeName&&(l=getval(n=(n=r[m].nodeValue).trim(),a),s.push("t-href")),void 0!==r[m]&&"href"==r[m].nodeName&&(n=(n=r[m].nodeValue).trim(),r[m].nodeValue=regreplace(n,a));if(0<s.length){d=s.length;for(y=0;y<d;y++)e.removeAttribute(s[y])}null!=l&&(e.href=l)}}function clearboud(e){e=e.trim();var t=$.Twoway.startbound.length,a=$.Twoway.endbound.length;return e.substring(0,t)==$.Twoway.startbound&&(e=e.substring(t)),e.substring(e.length-a)==$.Twoway.endbound&&(e=e.substring(0,e.length-a)),e.trim()}function addordeltoarr(e,t,a,o){var n=getval(e,o);"string"==typeof n&&(n=""==n?[]:[n]),a&&!inarray(t,n)?n.push(t):!a&&inarray(t,n)&&(n=delinarray(t,n)),$.Twoway.funclock=!0,setval(e,n,o),$.Twoway.funclock=!1}function delinarray(e,t){for(var a=t.length,o=[],n=0;n<a;n++)t[n]!=e&&o.push(t[n]);return o}function inarray(e,t){for(var a=t.length,o=0;o<a;o++)if(t[o]==e)return 1}function dotext(e,t,a){e.nodeValue=(a?regreplacefun:regreplace)(e.nodeValue,t)}function listener(e,t,a){var o=!1;e.addEventListener("compositionstart",function(e){o=!0}),e.addEventListener("compositionend",function(e){o=!1,setval(a,e.target.value,t)}),e.addEventListener("input",function(e){o||setval(a,e.target.value,t)})}function decompose(e){var t=e.split(" in "),e=[],a="",o=t.shift();for(e.push(o.trim());0<t.length;)o=t.shift(),a+=""==a?o:" in "+o;return e.push(a.trim()),e}function doelementif(e,t){var a;$.Twoway.infor&&e.parentNode.isSameNode($.Twoway.forparent)&&$.Twoway.tmplist.push(e),0<$.Twoway.ifstatus.length&&(!(a=$.Twoway.ifstatus[0]).isinif||a.isok&&!a.isignore||$.Twoway.removenode.push(e));for(var o,n,r=e.attributes,i=r.length,s=0;s<i;s++)"t-for"==r[s].nodeName&&(n=decompose(o=(o=r[s].nodeValue).trim()),$.Twoway.forlist.unshift({fordata:n[1],foritem:n[0],node:e})),"t-if"==r[s].nodeName?(execstate(o=(o=r[s].nodeValue).trim(),t)?$.Twoway.ifok.unshift(e.parentNode):$.Twoway.removenode.push(e),e.removeAttribute("t-if")):"t-elseif"==r[s].nodeName?(o=(o=r[s].nodeValue).trim(),!$.Twoway.sets[t].datas.data[o]||void 0!==$.Twoway.ifok[0]&&$.Twoway.ifok[0].isSameNode(e.parentNode)?$.Twoway.removenode.push(e):$.Twoway.ifok.unshift(e.parentNode),e.removeAttribute("t-elseif")):"t-else"==r[s].nodeName&&(void 0!==$.Twoway.ifok[0]&&$.Twoway.ifok[0].isSameNode(e.parentNode)&&($.Twoway.removenode.push(e),$.Twoway.ifok.shift()),e.removeAttribute("t-else"))}function dotextif(e,t){var a,o,n,r=e.nodeValue,i="",s=!1,d=!1,l=!1,u=!1,f=!1,w=new RegExp($.Twoway.startbound.replace(/\{/g,"\\{")+"(if[ |(].+)"+$.Twoway.endbound.replace(/\}/,"\\}"),"i"),c=new RegExp($.Twoway.startbound.replace(/\{/g,"\\{")+"(elseif[ |(].+)"+$.Twoway.endbound.replace(/\}/,"\\}"),"i"),h=new RegExp($.Twoway.startbound.replace(/\{/g,"\\{")+"else"+$.Twoway.endbound.replace(/\}/,"\\}"),"i"),p=new RegExp($.Twoway.startbound.replace(/\{/g,"\\{")+"endif"+$.Twoway.endbound.replace(/\}/,"\\}"),"i"),g=new RegExp($.Twoway.startbound.replace(/\{/g,"\\{")+"(for[ |(].+)"+$.Twoway.endbound.replace(/\}/,"\\}"),"i"),v=new RegExp($.Twoway.startbound.replace(/\{/g,"\\{")+"endfor"+$.Twoway.endbound.replace(/\}/,"\\}"),"i");if(g.test(r)?("("==(n=(n=RegExp.$1).substring(3).trim()).substr(0,1)&&(n=n.substring(1)),")"==n.substring(n.length-1)&&(n=n.substring(0,n.length-1)),$.Twoway.forparent=e.parentNode,$.Twoway.forarr=decompose(n),$.Twoway.infor=!0,$.Twoway.tmplist=[],e.nodeValue=e.nodeValue.replace(g,"")):v.test(r)?($.Twoway.infor=!1,$.Twoway.tempforlist.unshift({fordata:$.Twoway.forarr[1],foritem:$.Twoway.forarr[0],node:$.Twoway.tmplist}),$.Twoway.tmplist=[],e.nodeValue=e.nodeValue.replace(v,"")):$.Twoway.infor&&e.parentNode.isSameNode($.Twoway.forparent)&&$.Twoway.tmplist.push(e),w.test(r)&&(f=u=!0,a=RegExp.$1,d=!0,o=twosplit(r,$.Twoway.startbound+a+$.Twoway.endbound),s=!!execstate(a.substring(2).trim(),t),i+=o[0],r=o[1]),!u&&0<$.Twoway.ifstatus.length&&(c.test(r)||h.test(r)||p.test(r))&&(d=(u=$.Twoway.ifstatus.shift()).isinif,s=u.isok,l=u.isignore),c.test(r))for(f=!0;c.test(r);)a=RegExp.$1,o=twosplit(r,$.Twoway.startbound+a+$.Twoway.endbound),d&&s&&!l&&(i+=o[0],l=!0),d=!0,s||l||(s=!!execstate(a.substring(6).trim(),t)),r=o[1];h.test(r)&&(f=!0,o=twosplit(r,$.Twoway.startbound+"else"+$.Twoway.endbound),d&&s&&!l&&(i+=o[0],l=!0),d=!0,s=s||!0,r=o[1]),p.test(r)&&(f=!0,o=twosplit(r,$.Twoway.startbound+"endif"+$.Twoway.endbound),d&&s&&!l&&(i+=o[0],l=!0),d=!1,r=o[1]),f?(e.nodeValue=i+r,d&&$.Twoway.ifstatus.unshift({isinif:d,isok:s,isignore:l})):0<$.Twoway.ifstatus.length&&(!(f=$.Twoway.ifstatus[0]).isinif||f.isok&&!f.isignore||$.Twoway.removenode.push(e))}function twosplit(e,t){var a=e.split(t),o="",e=[],n=a.shift();for(e.push(n);0<a.length;)n=a.shift(),o+=""==o?n:t+n;return e.push(o),e}function execstate(str,id){var reg=/^[A-Za-z][A-Za-z0-9_\.]*$/;if(reg.test(str))return getval(str,id);reg=/([A-Za-z][A-Za-z0-9_\.]*(\(\))?)/;var restr=str,name,value;for(str=str.replace(/['|"].*?['|"]/g,"");reg.test(str);)name=RegExp.$1,value=("()"==name.substring(name.length-2)?getmethod:getval)(name,id),"string"==typeof value&&"()"!=value.substring(value.length-2)&&(value="'"+value+"'"),restr=restr.replace(name,value),str=str.replace(name,"");return eval(restr)}function setval(name,value,id){if(-1==name.indexOf("."))$.Twoway.sets[id].datas.data[name]=value;else{for(var datapath='$.Twoway.sets["'+id+'"].datas.data',sarr=name.split(".");0<sarr.length;){var subst=sarr.shift();datapath+="."+subst}datapath+="object"==typeof value?" = "+JSON.stringify(value):"boolean"==typeof value?" = "+value:' = "'+value+'"',eval(datapath)}}function getval(e,t){for(var a=$.Twoway.sets[t].datas.data,o=e.split(".");0<o.length;){var n=o.shift();if(void 0===a[n])return e;a=a[n]}return a}function getmethod(e,t){var a=e.substring(0,e.length-2).trim();return-1<e.indexOf(".")||void 0===$.Twoway.sets[t].datas.methods[a]?e:$.Twoway.sets[t].datas.methods[a].call($.Twoway.sets[t].datas.data)}function allchildif(e,t){for(var a=e.childNodes.length,o=0;o<a;o++)(3==e.childNodes[o].nodeType?dotextif:doelementif)(e.childNodes[o],t),e.childNodes[o].hasChildNodes()&&allchildif(e.childNodes[o],t)}function allchild(e,t,a){for(var o=e.childNodes.length,n=0;n<o;n++)(3==e.childNodes[n].nodeType?dotext:doelement)(e.childNodes[n],t,a),e.childNodes[n].hasChildNodes()&&allchild(e.childNodes[n],t,a)}function regreplacefun(e,t){for(var a=new RegExp($.Twoway.startbound.replace(/\{/g,"\\{")+"([A-Za-z][A-Za-z0-9_]*\\(\\))"+$.Twoway.endbound.replace(/\}/g,"\\}"),"i"),o=e;a.test(e);){var n=RegExp.$1,r="";n=(n=n.trim()).substr(0,n.length-2).trim(),$.Twoway.funclock=!0,void 0!==$.Twoway.sets[t].datas.methods[n]&&(r=$.Twoway.sets[t].datas.methods[n].call($.Twoway.sets[t].datas.data)),$.Twoway.funclock=!1,o="object"==typeof r?o.replace(a,JSON.stringify(r)):o.replace(a,r),e=e.replace(a,"")}return o}function regreplace(e,t){for(var a=new RegExp($.Twoway.startbound.replace(/\{/g,"\\{")+"([A-Za-z][A-Za-z0-9_.]*)"+$.Twoway.endbound.replace(/\}/g,"\\}"),"i"),o=e;a.test(e);){for(var n=(n=RegExp.$1).trim(),r=$.Twoway.sets[t].datas.data,i=n.split(".");0<i.length;){var s=i.shift();if(void 0===r[s])return o;r=r[s]}o="object"==typeof r?o.replace(a,JSON.stringify(r)):o.replace(a,r),e=e.replace(a,"")}return o}function observe(e,t){if(e&&"object"==typeof e)for(var a=Object.keys(e),o=a.length,n=0;n<o;n++)defineReactive(e,a[n],e[a[n]],t)}function defineReactive(e,t,a,o){observe(a,o),Object.defineProperty(e,t,{get:function(){return a},set:function(e){e!=a&&(a=e,0==$.Twoway.funclock&&announcer(o))}})}function announcer(e){var t,a=document.activeElement,o=!1,n=document.querySelectorAll(e),r=a.tagName.toLowerCase();if("input"==r&&"checkbox"!=a.type&&"range"!=a.type&&"radio"!=a.type||"textarea"==r){for(var i=a.selectionStart,s=a.selectionEnd,d=n.length,l=0;l<d;l++)for(var u=n[l].childNodes,f=u.length,w=0;w<f;w++)if(u[w].isSameNode(a)){t=[l,w];break}o=!0}for(var c=$.Twoway.sets[e].fragments,h=c.length,p=0;p<h;p++){var g=c[p].cloneNode(!0);parsingif(g,e),parsing(g,e,!0),parsing(g,e,!1),n[p].innerHTML="",n[p].appendChild(g),o&&p==t[0]&&(n[p].childNodes[t[1]].focus(),n[p].childNodes[t[1]].selectionStart=i,n[p].childNodes[t[1]].selectionEnd=s)}$.Twoway.init=!0}Twoway.prototype={setbound:function(e,t){this.startbound=e,this.endbound=t},bind:function(e){if(!(e=e||{}).hasOwnProperty("id"))return!1;"#"!=e.id.substr(0,1)&&"."!=e.id.substr(0,1)&&(e.id="#"+e.id);for(var t=e.id,a=document.querySelectorAll(e.id),o=[],n=a.length,r=0;r<n;r++)o[r]=toFragment(a[r],e.id);this.sets[e.id]={datas:e,fragments:o},observe(this.sets[e.id].datas.data,t),init(a,o,n,t)},set:function(path,value,id){if("#"!=id.substr(0,1)&&"."!=id.substr(0,1)&&(id="#"+id),-1==path.indexOf("."))this.sets[id].datas.data[path]=value;else{for(var datapath='this.sets["'+id+'"].datas.data',sarr=path.split(".");0<sarr.length;){var subst=sarr.shift();datapath+="."+subst}datapath+="object"==typeof value?" = "+JSON.stringify(value):"boolean"==typeof value?" = "+value:' = "'+value+'"',eval(datapath)}},get:function(e,t){for(var a=this.sets[t].datas.data,o=e.split(".");0<o.length;)a=a[o.shift()];return a},getData:function(e){return this.sets[e].datas.data},setData:function(e){this.sets[id].datas.data=e},setKey:function(e){this.key=e}},$.Twoway||($.Twoway=new Twoway)}(window);